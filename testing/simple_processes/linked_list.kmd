KMD
00000000: EAFFFFFF    ; b main 
00000004:             ; 
00000004:             ; 
00000004:             ; 
00000004:             ; main 
00000004:             ; ; set up linked list with three values 
00000004: E28FD0D6    ;     ADRL SP, Supervisor_Stack_End
00000008: E28DDC03    ; 
0000000C: E3A02000    ;     MOV     R2, #0
00000010: E28F0E12    ;     ADRl    R0, list_start
00000014: E5002000    ;     STR     R2, [R0]
00000018:             ; 
00000018: E28F0E13    ;     ADRL    R0, item1 
0000001C: E3A01001    ;     MOV     R1, #&1
00000020: E5802000    ;     STR     R2, [R0, #pointer_next]
00000024: E5801004    ;     STR     R1, [R0, #proccess_id]
00000028: E5802008    ;     STR     R2, [R0, #context_pointer]
0000002C:             ; 
0000002C: E28F0F4A    ;     ADRL    R0, item2 
00000030: E3A01002    ;     MOV     R1, #&2
00000034: E5802000    ;     STR     R2, [R0, #pointer_next]
00000038: E5801004    ;     STR     R1, [R0, #proccess_id]
0000003C: E5802008    ;     STR     R2, [R0, #context_pointer]
00000040:             ; 
00000040: E28F0E12    ;     ADRL    R0, item3 
00000044: E3A01003    ;     MOV     R1, #&3
00000048: E5802000    ;     STR     R2, [R0, #pointer_next]
0000004C: E5801004    ;     STR     R1, [R0, #proccess_id]
00000050: E5802008    ;     STR     R2, [R0, #context_pointer]
00000054:             ; 
00000054: E28F0F46    ;     ADRL    R0, item4 
00000058: E3A01004    ;     MOV     R1, #&4
0000005C: E5802000    ;     STR     R2, [R0, #pointer_next]
00000060: E5801004    ;     STR     R1, [R0, #proccess_id]
00000064: E5802008    ;     STR     R2, [R0, #context_pointer]
00000068:             ; 
00000068: E28F0E11    ;     ADRL    R0, item5 
0000006C: E3A01005    ;     MOV     R1, #&5
00000070: E5802000    ;     STR     R2, [R0, #pointer_next]
00000074: E5801004    ;     STR     R1, [R0, #proccess_id]
00000078: E5802008    ;     STR     R2, [R0, #context_pointer]
0000007C:             ; 
0000007C: E28F10CC    ;     ADRL    R1, item1
00000080: EB000013    ;     BL      add_to_list
00000084:             ;     
00000084: E28F10D0    ;     ADRL    R1, item2
00000088: EB000011    ;     BL      add_to_list
0000008C:             ; 
0000008C: E28F10D4    ;     ADRL    R1, item3
00000090: EB00000F    ;     BL      add_to_list   
00000094:             ; 
00000094: E28F10D8    ;     ADRL    R1, item4
00000098: EB00000D    ;     BL      add_to_list 
0000009C:             ; 
0000009C: E28F10DC    ;     ADRL    R1, item5
000000A0: EB00000B    ;     BL      add_to_list 
000000A4:             ; 
000000A4: E3A01003    ;     MOV R1, #&3
000000A8: EB000002    ;     BL      remove_item
000000AC:             ; 
000000AC: E3A01004    ;     MOV R1, #&4
000000B0: EB00000F    ;     BL      find_item
000000B4:             ; 
000000B4:             ; end 
000000B4: EAFFFFFE    ;     b end 
000000B8:             ; 
000000B8:             ; remove_item
000000B8: E92D4010    ;     PUSH    {R4, LR}
000000BC: EB00000C    ;     BL find_item
000000C0: E5904000    ;     LDR R4, [R0, #pointer_next]
000000C4: E5814000    ;     STR R4, [R1, #pointer_next]
000000C8:             ; 
000000C8:             ;     ; save next pointer in this pointer 
000000C8: E3A04000    ;     MOV R4, #0 
000000CC: E5804000    ;     STR R4, [R0, #pointer_next]
000000D0: E8BD8010    ;     POP     {R4, PC}
000000D4:             ;     
000000D4:             ;     ; find item before it and item after it 
000000D4:             ; 
000000D4:             ;     ; update pointer from before to one after 
000000D4:             ; 
000000D4:             ; 
000000D4:             ; 
000000D4:             ; 
000000D4:             ; ; function to add link 
000000D4:             ; ; R1 is item pointer of item to add 
000000D4:             ; add_to_list 
000000D4: E92D4030    ;     PUSH {R4-R5, LR}
000000D8:             ;     ; get adr for list start
000000D8: E28F4058    ;     ADRL    R4, list_start
000000DC:             ; 
000000DC:             ; add_to_list_loop
000000DC: E5945000    ;     LDR     R5, [R4, #pointer_next] 
000000E0:             ;     ; see if it is null
000000E0: E3550000    ;     CMP R5, #&0 
000000E4: 11A04005    ;     MOVNE R4, R5
000000E8: 1AFFFFFB    ;     BNE add_to_list_loop
000000EC: E5841000    ;     STR     R1, [R4, #pointer_next]
000000F0: E8BD8030    ;     POP {R4-R5, PC}
000000F4:             ; 
000000F4:             ; ; function to find specific item 
000000F4:             ; find_item 
000000F4:             ;     ; takes process id desired 
000000F4:             ;     ; return in R0, pointer to item, 
000000F4:             ;     ; return in R1, pointer to item pointing at desired item
000000F4: E92D41F0    ;     PUSH    {R4-R8, LR}
000000F8:             ;     ; get start of list 
000000F8:             ;     ; get adr for list start
000000F8: E28F4038    ;     ADRL    R4, list_start
000000FC: E28F5034    ;     ADRL     R5, list_start ; this register will hold pointer to last item 
00000100:             ; find_item_search_loop       
00000100:             ;     ; List is empty 
00000100: E5946000    ;     LDR R6, [R4, #pointer_next]
00000104: E3560000    ;     CMP R6, #0 ; check if you reached end of line 
00000108: 0A000006    ;     BEQ end_of_list
0000010C: E5947004    ;     LDR R7, [R4, #proccess_id]
00000110: E1570001    ;     CMP R7, R1
00000114: 0A000004    ;     BEQ item_found
00000118: E1A05004    ;     MOV R5, R4
0000011C: E1A04006    ;     MOV R4, R6
00000120:             ;     ; check if item is desired item  
00000120: EAFFFFF6    ;     B find_item_search_loop   
00000124: E8BD81F0    ;     POP     {R4-R8, PC}   
00000128:             ; 
00000128:             ; 
00000128:             ; end_of_list
00000128: EAFFFFFE    ;     b end_of_list
0000012C:             ; 
0000012C:             ; item_found
0000012C: E1A00004    ;     MOV R0, R4
00000130: E1A01005    ;     MOV R1, R5
00000134: E8BD81F0    ;     POP     {R4-R8, PC}   
00000138:             ; list_start defs &16
00000150:             ;     align
00000150:             ; 
00000150:             ; struct 
00000150:             ; pointer_next    word 
00000150:             ; proccess_id     word 
00000150:             ; context_pointer word 
00000150:             ;     struct_align
00000150:             ; 
00000150:             ; 
00000150:             ; item1   defs &C  
0000015C:             ; item2   defs &C  
00000168:             ; item3   defs &C  
00000174:             ; item4   defs &C  
00000180:             ; item5   defs &C 
0000018C:             ; 
0000018C:             ; 
0000018C:             ; ; Blocks of memeory 
0000018C:             ;     ; Stacks 
0000018C:             ;         Supervisor_Stack_Size EQU &256
0000018C:             ; 
0000018C:             ;         ; Supervisor Stack
0000018C:             ;         Supervisor_Stack_Start  DEFS Supervisor_Stack_Size ; Supervisor Stack
000003E2:             ;         Supervisor_Stack_End
000003E4:             ;             Align
000003E4:             ; 

Symbol Table: Labels
: main                              00000004  Local -- ARM
: end                               000000B4  Local -- ARM
: remove_item                       000000B8  Local -- ARM
: add_to_list                       000000D4  Local -- ARM
: add_to_list_loop                  000000DC  Local -- ARM
: find_item                         000000F4  Local -- ARM
: find_item_search_loop             00000100  Local -- ARM
: end_of_list                       00000128  Local -- ARM
: item_found                        0000012C  Local -- ARM
: list_start                        00000138  Local -- ARM
: pointer_next                      00000000  Offset
: proccess_id                       00000004  Offset
: context_pointer                   00000008  Offset
: item1                             00000150  Local -- ARM
: item2                             0000015C  Local -- ARM
: item3                             00000168  Local -- ARM
: item4                             00000174  Local -- ARM
: item5                             00000180  Local -- ARM
: Supervisor_Stack_Size             00000256  Value
: Supervisor_Stack_Start            0000018C  Local -- ARM
: Supervisor_Stack_End              000003E2  Local -- ARM
